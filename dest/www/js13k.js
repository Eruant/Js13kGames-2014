function SfxrParams(){this.setSettings=function(t){for(var a=0;24>a;a++)this[String.fromCharCode(97+a)]=t[a]||0;this.c<.01&&(this.c=.01);var e=this.b+this.c+this.e;if(.18>e){var r=.18/e;this.b*=r,this.c*=r,this.e*=r}}}function SfxrSynth(){this._params=new SfxrParams;var t,a,e,r,n,s,i,o,h,c,u,f;this.reset=function(){var t=this._params;r=100/(t.f*t.f+.001),n=100/(t.g*t.g+.001),s=1-t.h*t.h*t.h*.01,i=-t.i*t.i*t.i*1e-6,t.a||(u=.5-t.n/2,f=5e-5*-t.o),o=1+t.l*t.l*(t.l>0?-.9:10),h=0,c=1==t.m?0:(1-t.m)*(1-t.m)*2e4+32},this.totalReset=function(){this.reset();var r=this._params;return t=r.b*r.b*1e5,a=r.c*r.c*1e5,e=r.e*r.e*1e5+12,3*((t+a+e)/3|0)},this.synthWave=function(d,v){var p=this._params,w=1!=p.s||p.v,m=p.v*p.v*.1,y=1+3e-4*p.w,l=p.s*p.s*p.s*.1,b=1+1e-4*p.t,k=1!=p.s,g=p.x*p.x,A=p.g,x=p.q||p.r,S=p.r*p.r*p.r*.2,M=p.q*p.q*(p.q<0?-1020:1020),q=p.p?((1-p.p)*(1-p.p)*2e4|0)+32:0,G=p.d,C=p.j/2,_=p.k*p.k*.01,j=p.a,E=t,U=1/t,P=1/a,R=1/e,T=5/(1+p.u*p.u*20)*(.01+l);T>.8&&(T=.8),T=1-T;for(var W,B,F,N,z,D,H=!1,I=0,J=0,K=0,L=0,O=0,Q=0,V=0,X=0,Y=0,Z=0,$=new Array(1024),ta=new Array(32),aa=$.length;aa--;)$[aa]=0;for(var aa=ta.length;aa--;)ta[aa]=2*Math.random()-1;for(var aa=0;v>aa;aa++){if(H)return aa;if(q&&++Y>=q&&(Y=0,this.reset()),c&&++h>=c&&(c=0,r*=o),s+=i,r*=s,r>n&&(r=n,A>0&&(H=!0)),B=r,C>0&&(Z+=_,B*=1+Math.sin(Z)*C),B|=0,8>B&&(B=8),j||(u+=f,0>u?u=0:u>.5&&(u=.5)),++J>E)switch(J=0,++I){case 1:E=a;break;case 2:E=e}switch(I){case 0:K=J*U;break;case 1:K=1+2*(1-J*P)*G;break;case 2:K=1-J*R;break;case 3:K=0,H=!0}x&&(M+=S,F=0|M,0>F?F=-F:F>1023&&(F=1023)),w&&y&&(m*=y,1e-5>m?m=1e-5:m>.1&&(m=.1)),D=0;for(var ea=8;ea--;){if(V++,V>=B&&(V%=B,3==j))for(var ra=ta.length;ra--;)ta[ra]=2*Math.random()-1;switch(j){case 0:z=u>V/B?.5:-.5;break;case 1:z=1-V/B*2;break;case 2:N=V/B,N=6.28318531*(N>.5?N-1:N),z=1.27323954*N+.405284735*N*N*(0>N?1:-1),z=.225*((0>z?-1:1)*z*z-z)+z;break;case 3:z=ta[Math.abs(32*V/B|0)]}w&&(W=Q,l*=b,0>l?l=0:l>.1&&(l=.1),k?(O+=(z-Q)*l,O*=T):(Q=z,O=0),Q+=O,L+=Q-W,L*=1-m,z=L),x&&($[X%1024]=z,z+=$[(X-F+1024)%1024],X++),D+=z}D*=.125*K*g,d[aa]=D>=1?32767:-1>=D?-32768:32767*D|0}return v}}var synth=new SfxrSynth;window.jsfxr=function(t){synth._params.setSettings(t);var a=synth.totalReset(),e=new Uint8Array(4*((a+1)/2|0)+44),r=2*synth.synthWave(new Uint16Array(e.buffer,44),a),n=new Uint32Array(e.buffer,0,44);n[0]=1179011410,n[1]=r+36,n[2]=1163280727,n[3]=544501094,n[4]=16,n[5]=65537,n[6]=44100,n[7]=88200,n[8]=1048578,n[9]=1635017060,n[10]=r,r+=44;for(var s=0,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o="data:audio/wav;base64,";r>s;s+=3){var h=e[s]<<16|e[s+1]<<8|e[s+2];o+=i[h>>18]+i[h>>12&63]+i[h>>6&63]+i[63&h]}return o};var ArcadeAudio=function(){this.sounds={}};ArcadeAudio.prototype.add=function(t,a,e){this.sounds[t]=[],e.forEach(function(e,r){this.sounds[t].push({tick:0,count:a,pool:[]});for(var n=0;a>n;n++){var s=new Audio;s.src=jsfxr(e),this.sounds[t][r].pool.push(s)}},this)},ArcadeAudio.prototype.play=function(t){var a=this.sounds[t],e=a.length>1?a[Math.floor(Math.random()*a.length)]:a[0];e.pool[e.tick].play(),e.tick=e.tick<e.count-1?e.tick+1:0},window.raf=function(){return window.requestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}();var Game=function(){var t=window.document;this.canvas=t.createElement("canvas"),this.canvas.width=300,this.canvas.height=300,this.ctx=this.canvas.getContext("2d"),t.getElementsByTagName("body")[0].appendChild(this.canvas);var a=new ArcadeAudio;a.add("powerup",10,[[0,,.01,,.4384,.2,,.12,.28,1,.65,,,.0419,,,,,1,,,,,.3]]),a.play("powerup"),this.tick()};Game.prototype.update=function(){},Game.prototype.draw=function(){},Game.prototype.tick=function(){this.update(),this.draw(),window.raf(this.tick.bind(this))},window.onload=function(){new Game};